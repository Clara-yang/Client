<Page x:Class="UAM.Client.Views.EnvironmentPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:UAM.Client.Views"
      xmlns:cuc="clr-namespace:UAM.Client.UILibrary"
      xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
      xmlns:vm="clr-namespace:UAM.Client.ViewModel"
      xmlns:vdn="clr-namespace:UAM.Plugin;assembly=UAM.Plugin"
      xmlns:cov="clr-namespace:UAM.Client.Converters"
      xmlns:sys="system"
      mc:Ignorable="d" 
      Title="Environment">
    <Page.Resources>
        <cov:ValueToBoolConverter x:Key="Value2BoolCov"/>
        <SolidColorBrush x:Key="Color_Back" Color="#FF808080"/>
        <SolidColorBrush x:Key="Color_Font_mark" Color="#FFB3B3B3"/>
        <Style x:Key="WeatherButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
            <Setter Property="Background" Value="#FF999999"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="cuc:ButtonHelper.CornerRadius" Value="8.5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.CornerRadius),Mode=OneWay}"
                                Width="127" Height="56"
                                Margin="8">
                            <Grid >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Image x:Name="img_bar"
                                       Source="{StaticResource Icon_bar_3}" 
                                       HorizontalAlignment="Left" 
                                       VerticalAlignment="Top"
                                       Width="8" Height="6.5"
                                       Margin="8 6"/>
                                <Image x:Name="mainIcon"
                                       Source="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainIcon),Mode=OneWay}"
                                       Stretch="None"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Grid.Column="1"
                                       Margin="5 0"/>
                                <TextBlock Text="{TemplateBinding Content}"
                                           Foreground="{TemplateBinding Foreground}"
                                           FontSize="18"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Bottom"
                                           Margin="5"
                                           Grid.Column="2"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFF2F2F2"/>
                                <Setter Property="Foreground" Value="#FF4D4D4D"/>
                                <Setter TargetName="mainIcon" Property="Source" Value="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainIcon_Press),Mode=OneWay}"/>
                                <Setter TargetName="img_bar" Property="Source" Value="{StaticResource Icon_bar_3_Pressed}"/>
                            </Trigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=Self},Path=(cuc:ButtonHelper.IsSelected),Mode=OneWay}" Value="True">
                                <Setter Property="Background" Value="#FFF2F2F2"/>
                                <Setter Property="Foreground" Value="#FF4D4D4D"/>
                                <Setter TargetName="mainIcon" Property="Source" Value="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainIcon_Press),Mode=OneWay}"/>
                                <Setter TargetName="img_bar" Property="Source" Value="{StaticResource Icon_bar_3_Pressed}"/>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="WeatherButtonStyle2" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
            <Setter Property="Background" Value="#FF999999"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="cuc:ButtonHelper.CornerRadius" Value="8.5"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.CornerRadius),Mode=OneWay}"
                                Width="127" Height="56"
                                Margin="{TemplateBinding Margin}">
                            <Grid >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Image x:Name="img_bar"
                                       Source="{StaticResource Icon_bar_3}" 
                                       HorizontalAlignment="Left" 
                                       VerticalAlignment="Top"
                                       Width="8" Height="6.5"
                                       Margin="8 6"/>
                                <Image x:Name="mainIcon"
                                       Source="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainIcon),Mode=OneWay}"
                                       Stretch="None"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Grid.Column="1"
                                       Margin="5 0"/>
                                <TextBlock Text="{TemplateBinding Content}"
                                           Foreground="{TemplateBinding Foreground}"
                                           FontSize="18"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Top"
                                           Margin="0 7"
                                           Grid.Column="2"/>
                                <Image x:Name="img_toggle"
                                       Source="{StaticResource Icon_toggle_off}" 
                                       Stretch="None"
                                       HorizontalAlignment="Right" 
                                       VerticalAlignment="Bottom"
                                       Grid.Column="2"
                                       Margin="4"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=Self},Path=(cuc:ButtonHelper.IsSelected),Mode=OneWay}" Value="True">
                                <Setter TargetName="img_toggle" Property="Source" Value="{StaticResource Icon_toggle_on}"/>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="PrecipitationButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="#B3B3B3"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="BorderBrush" Value="#B3B3B3"/>
            <Setter Property="cuc:ButtonHelper.CornerRadius" Value="4.2"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.CornerRadius),Mode=OneWay}"
                                Width="188" Height="71"
                                Margin="{TemplateBinding Margin}">
                            <Grid >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="47"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="57"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainText),Mode=OneWay}"
                                           FontSize="13.4"
                                           VerticalAlignment="Top"
                                           HorizontalAlignment="Center"
                                           Margin="0 5"/>
                                <Image x:Name="mainIcon"
                                       Source="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainIcon),Mode=OneWay}"
                                       Stretch="None"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Grid.Column="1"/>
                                <StackPanel Grid.Column="2">
                                    <StackPanel Orientation="Horizontal"
                                                HorizontalAlignment="Center">
                                        <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MinorText),Mode=OneWay}"
                                                   FontSize="27"
                                                   VerticalAlignment="Bottom"/>
                                        <TextBlock Text="%" FontSize="11" VerticalAlignment="Bottom" Margin="3"/>
                                    </StackPanel>
                                    <TextBlock Text="降水量" 
                                               FontSize="5.58"
                                               HorizontalAlignment="Center"
                                               Margin="0 0 0 3"/>
                                    <Image x:Name="img_bar"
                                           Source="{StaticResource Icon_Precipitation}"
                                           Stretch="None"
                                           HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF999999"/>
                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
                                <Setter Property="Foreground" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
                            </Trigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=Self},Path=(cuc:ButtonHelper.IsSelected),Mode=OneWay}" Value="True">
                                <Setter Property="Background" Value="#FF999999"/>
                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
                                <Setter Property="Foreground" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
                                <Setter TargetName="img_bar" Property="Source" Value="..\Images\Environment\PrecipitationToggleButton.png"/>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="CloudButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Width" Value="55.5"/>
            <Setter Property="Height" Value="27.2"/>
            <Setter Property="Background" Value="#FFCCCCCC"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#FF808080"/>
            <Setter Property="cuc:ButtonHelper.CornerRadius" Value="4.2"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0.5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.CornerRadius),Mode=OneWay}"
                                Margin="{TemplateBinding Margin}">
                            <Grid Width="{TemplateBinding Width}"
                                  Height="{TemplateBinding Height}">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Text="{TemplateBinding Content}"
                                           FontSize="{TemplateBinding FontSize}"
                                           Foreground="{TemplateBinding Foreground}"
                                           HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                           VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                <Image x:Name="img_bar" 
                                       Source="{StaticResource Icon_cloud_bar}"
                                       Stretch="None"
                                       Margin="0 2 0 4"
                                       Grid.Row="1"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource Color_Normal}"/>
                            </Trigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=Self},Path=(cuc:ButtonHelper.IsSelected),Mode=OneWay}" Value="True">
                                <Setter Property="Background" Value="{StaticResource Color_Normal}"/>
                                <Setter TargetName="img_bar" Property="Source" Value="{StaticResource Icon_cloud_bar_Pressed}"/>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TitleLabelStyle" TargetType="{x:Type Label}">
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Foreground" Value="{StaticResource Color_Normal}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Label}">
                        <Border BorderThickness="{TemplateBinding BorderThickness}">
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{StaticResource Icon_bar_title}"
                                       Stretch="None"/>
                                <TextBlock Text="{TemplateBinding Content}"
                                           Foreground="{TemplateBinding Foreground}"
                                           FontSize="{TemplateBinding FontSize}"
                                           Margin="11.2 0 0 0 "
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="InputTextBoxStyle" TargetType="{x:Type TextBox}">
            <Setter Property="Foreground" Value="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Background" Value="{StaticResource Color_Back}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="cuc:TextBoxHelper.CornerRadius" Value="5.8"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="8 0"/>
            <Setter Property="TextWrapping" Value="NoWrap"/>
            <Setter Property="CaretBrush" Value="{StaticResource Color_Normal}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Border BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Background="{TemplateBinding Background}"
                                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=TextBox},Path=(cuc:TextBoxHelper.CornerRadius),Mode=OneWay}"
                                Padding="2">
                            <Grid Background="Transparent">
                                <TextBlock x:Name="markText"
                                           Text="{Binding RelativeSource={RelativeSource AncestorType=TextBox},Path=(cuc:TextBoxHelper.Watermarks),Mode=OneWay}" 
                                           Foreground="{StaticResource Color_Font_mark}"
                                           FontSize="10"
                                           Margin="10 0"
                                           Visibility="Collapsed"
                                           HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                           VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                <ScrollViewer x:Name="PART_ContentHost"
                                              Focusable="False"
                                              HorizontalScrollBarVisibility="Hidden"
                                              VerticalScrollBarVisibility="Hidden"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              Margin="{TemplateBinding Padding}"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <DataTrigger Binding="{Binding Path=Text,RelativeSource={RelativeSource Mode=Self}}" Value="">
                                <Setter Property="Visibility" TargetName="markText" Value="Visible"/>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="IconButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="{StaticResource Color_Normal}"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Margin="{TemplateBinding Margin}">
                            <StackPanel Orientation="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.Orientation)}">
                                <Image x:Name="img_icon"
                                       Source="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.MainIcon_Press)}"
                                       Stretch="None"/>
                                <TextBlock Text="{TemplateBinding Content}"
                                           Foreground="{TemplateBinding Foreground}"
                                           FontSize="{TemplateBinding FontSize}"
                                           HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                           VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                           Margin="{Binding RelativeSource={RelativeSource AncestorType=Button},Path=(cuc:ButtonHelper.TextMargin)}"/>
                            </StackPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="DatePickerTextBoxStyle" TargetType="{x:Type DatePickerTextBox}">
            <Setter Property="ScrollViewer.PanningMode" Value="VerticalFirst"/>
            <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DatePickerTextBox}">
                        <Grid>
                            <Grid.Resources>
                                <SolidColorBrush x:Key="WatermarkBrush" Color="#FFAAAAAA"/>
                            </Grid.Resources>
                            <!--<VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition GeneratedDuration="0"/>
                                        <VisualTransition GeneratedDuration="0:0:0.1" To="MouseOver"/>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ColorAnimation Duration="0" To="#FF99C1E2" Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" Storyboard.TargetName="ContentElement"/>
                                            <ColorAnimation Duration="0" To="#FF99C1E2" Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" Storyboard.TargetName="watermark_decorator"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="WatermarkStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition GeneratedDuration="0"/>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="Unwatermarked"/>
                                    <VisualState x:Name="Watermarked">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="ContentElement"/>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PART_Watermark"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition GeneratedDuration="0"/>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="Unfocused"/>
                                    <VisualState x:Name="Focused">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="FocusVisual"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>-->
                            <Border x:Name="Border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="0 0 0 1" Background="{TemplateBinding Background}" CornerRadius="1" Opacity="1" Padding="{TemplateBinding Padding}">
                                <Grid x:Name="WatermarkContent" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                    <Border x:Name="ContentElement" BorderBrush="{DynamicResource PrimaryHueDarkForegroundBrush}" BorderThickness="0"/>
                                    <Border x:Name="watermark_decorator" BorderBrush="{DynamicResource PrimaryHueDarkForegroundBrush}" BorderThickness="0">
                                        <!--<ContentControl x:Name="PART_Watermark" Focusable="False" IsHitTestVisible="False" Opacity="0" Padding="2"/>-->
                                        <TextBox x:Name="PART_Watermark" Text="{Binding Path=SelectedDate, StringFormat='yyyy   /   MM   /   dd', RelativeSource={RelativeSource AncestorType=DatePicker}}" Background="Transparent" Foreground="White" BorderThickness="0"/>
                                    </Border>
                                </Grid>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="DatePickerStyle" TargetType="{x:Type DatePicker}">
            <Setter Property="FontSize" Value="25"/>
            <Setter Property="Foreground" Value="{StaticResource Color_Normal}"/>
            <Setter Property="IsTodayHighlighted" Value="True"/>
            <Setter Property="SelectedDateFormat" Value="Short"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="2"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="BorderBrush" Value="{StaticResource Color_Back}"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DatePicker}">
                        <Border BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}"
                                CornerRadius="2">
                            <Grid x:Name="PART_Root" 
                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                <Grid.Resources>
                                    <ControlTemplate x:Key="DropDownButtonTemplate">
                                        <Grid>
                                            <Image Source="..\Images\Environment\DatePicker.png" Stretch="None"/>
                                            <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=DatePicker}, Path=SelectedDate.Day,Mode=OneWay}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 4 0 0"
                                                       Foreground="#CCCCCC"
                                                       FontSize="18"/>
                                        </Grid>
                                    </ControlTemplate>
                                </Grid.Resources>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Button x:Name="PART_Button" 
                                        Grid.Column="1" 
                                        Foreground="{TemplateBinding Foreground}"
                                        Focusable="False"
                                        HorizontalAlignment="Center"
                                        Margin="20 0 5 0"
                                        Template="{StaticResource DropDownButtonTemplate}"
                                        VerticalAlignment="Center"
                                        Width="33"/>
                                <DatePickerTextBox x:Name="PART_TextBox" Foreground="{TemplateBinding Foreground}" FontSize="{TemplateBinding FontSize}" Focusable="{TemplateBinding Focusable}"
                                                   HorizontalContentAlignment="Stretch" VerticalContentAlignment="Center"
                                                   Style="{StaticResource DatePickerTextBoxStyle}" Background="Transparent" Margin="0"/>
                                <Grid x:Name="PARE_DisabledVisual" Grid.ColumnSpan="2" IsHitTestVisible="False" Opacity="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Rectangle Grid.Column="0" Fill="#A5FFFFFF" RadiusY="1" RadiusX="1"/>
                                    <Rectangle Grid.Column="1" Fill="#A5FFFFFF" RadiusY="1" RadiusX="1" Width="32" Height="32" Margin="3 0"/>
                                    <Popup x:Name="PART_Popup" AllowsTransparency="True" Placement="Bottom" PlacementTarget="{Binding ElementName=PART_TextBox}" StaysOpen="False"/>
                                </Grid>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>
    <Grid Background="{StaticResource PrimaryHueMidBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <cuc:CustomGroupBox Header="天气预设"
                                Style="{StaticResource GroupBoxStyle}"
                                Background="{StaticResource PrimaryHueDarkBrush}"
                                Width="1317" Height="620"
                                Margin="3"
                                Padding="3">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="98"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal"
                                Margin="20 0">
                        <Button Content="晴天" Style="{StaticResource WeatherButtonStyle}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_sunny}"
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_sunny_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="Sunny"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Sunny}"/>
                        <Button Content="雨" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_rain}" 
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_rain_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="Rainy"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Rainy}"/>
                        <Button Content="雪" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_snow}"
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_snow_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="Snowy"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Snowy}" />
                        <Button Content="雷" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_thunder}"
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_thunder_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="Thunderstorm"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Thunderstorm}" />
                        <Button Content="冰雹" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_hail}" 
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_hail_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="hail"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Hail}" Visibility="Collapsed"/>
                        <Button Content="雾" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_haze}" 
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_haze_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="Foggy"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Foggy}"/>
                        <Button Content="沙尘" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_sandstorm}"
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_sandstorm_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="dust" 
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Dust}"
                                Visibility="Collapsed"/>
                        <Button Content="云" Style="{StaticResource WeatherButtonStyle}" cuc:ButtonHelper.MainIcon="{StaticResource Icon_cloud}"
                                cuc:ButtonHelper.MainIcon_Press="{StaticResource Icon_cloud_Pressed}"
                                Command="{Binding WeatherChangedCommand}"
                                CommandParameter="Cloudy" 
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Cloudy}"/>
                    </StackPanel>
                    <Border BorderBrush="Gray"
                            BorderThickness="0 1 0 0"
                            Grid.Row="1"
                            Margin="25 0 25 5"/>
                    <StackPanel Grid.Row="2" Orientation="Horizontal">
                        <!--降水强度-->
                        <StackPanel Margin="40 5 40 0">
                            <Label Content="降水强度"
                                   FontSize="18"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Margin="0 0 0 5"/>
                            <Button cuc:ButtonHelper.MainText="稀少" cuc:ButtonHelper.MinorText="5" Style="{StaticResource PrecipitationButtonStyle}"
                                    cuc:ButtonHelper.MainIcon="{StaticResource Icon_sparse}"
                                    Command="{Binding PrecipitationChangedCommand}" CommandParameter="0"
                                    cuc:ButtonHelper.IsSelected="{Binding Precipitation,Converter={StaticResource Value2BoolCov},ConverterParameter=0}" />
                            <Button cuc:ButtonHelper.MainText="较少" cuc:ButtonHelper.MinorText="20" Style="{StaticResource PrecipitationButtonStyle}"
                                    cuc:ButtonHelper.MainIcon="{StaticResource Icon_lesser}"
                                    Command="{Binding PrecipitationChangedCommand}" CommandParameter="1"
                                    cuc:ButtonHelper.IsSelected="{Binding Precipitation,Converter={StaticResource Value2BoolCov},ConverterParameter=1}" />
                            <Button cuc:ButtonHelper.MainText="中等" cuc:ButtonHelper.MinorText="40" Style="{StaticResource PrecipitationButtonStyle}"
                                    cuc:ButtonHelper.MainIcon="{StaticResource Icon_moderate}"
                                    Command="{Binding PrecipitationChangedCommand}" CommandParameter="2"
                                    cuc:ButtonHelper.IsSelected="{Binding Precipitation,Converter={StaticResource Value2BoolCov},ConverterParameter=2}"/>
                            <Button cuc:ButtonHelper.MainText="较多" cuc:ButtonHelper.MinorText="60" Style="{StaticResource PrecipitationButtonStyle}"
                                    cuc:ButtonHelper.MainIcon="{StaticResource Icon_more}"
                                    Command="{Binding PrecipitationChangedCommand}" CommandParameter="3"
                                    cuc:ButtonHelper.IsSelected="{Binding Precipitation,Converter={StaticResource Value2BoolCov},ConverterParameter=3}"/>
                            <Button cuc:ButtonHelper.MainText="密集" cuc:ButtonHelper.MinorText="80" Style="{StaticResource PrecipitationButtonStyle}"
                                    cuc:ButtonHelper.MainIcon="{StaticResource Icon_intensive}"
                                    Command="{Binding PrecipitationChangedCommand}" CommandParameter="4"
                                    cuc:ButtonHelper.IsSelected="{Binding Precipitation,Converter={StaticResource Value2BoolCov},ConverterParameter=4}"/>
                        </StackPanel>
                        <Border BorderThickness="1 0 0 0"
                                BorderBrush="Gray"
                                Margin="0 10"/>
                        <!--设定风-->
                        <Grid Margin="10 5 30 0" Width="548">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Label Content="设定风"
                                   FontSize="18"
                                   Grid.Row="0"
                                   Style="{StaticResource TitleLabelStyle}"/>
                            <Label Content="地面风:风向-风速"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Grid.Row="1"
                                   Margin="0 5"/>
                            <Image Grid.Row="2"
                                   Stretch="None"
                                   Margin="0 18"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Top">
                                <Image.Source>
                                    <BitmapImage UriSource="..\Images\Environment\Ground_Velocity_Direction.png"/>
                                </Image.Source>
                            </Image>
                            <TextBlock FontSize="15.5"
                                       Foreground="#FFF2F2F2"
                                       Margin="48"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Grid.Row="2">
                                <Run Text="{Binding ElementName=tb_wind_direction_ground,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                <Run Text="°"/>
                            </TextBlock>
                            <TextBox x:Name="tb_wind_direction_ground"
                                     Text="{Binding GroundWindDirection,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~360"
                                     Width="85" Height="22"
                                     Grid.Row="2"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Bottom"
                                     Margin="10 25 0 50">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="TextChanged">
                                        <i:InvokeCommandAction Command="{Binding GroundDirectionCommand}"
                                                               CommandParameter="{Binding Text,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type TextBox}}}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBox>
                            <TextBlock Text="{Binding ElementName=tb_wind_velocity_ground,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                       FontSize="15.5"
                                       Foreground="#FFF2F2F2"
                                       Margin="0 54 35 0"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Top"
                                       Grid.Row="2"/>
                            <TextBox x:Name="tb_wind_velocity_ground"
                                     Text="{Binding GroundWindVelocity,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~50"
                                     Width="80" Height="22"
                                     Grid.Row="2"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Bottom"
                                     Margin="0 0 5 50">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="TextChanged">
                                        <i:InvokeCommandAction Command="{Binding GroundWindVelocityCommand }" 
                                                               CommandParameter="{Binding Text,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type TextBox}}}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBox>
                            <Label Content="湍流"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Grid.Row="1" Grid.Column="1"
                                   Margin="0 0 5 0"/>
                            <StackPanel Margin="20"  Grid.Row="2" Grid.Column="1" Orientation="Vertical">
                                <TextBlock Text="湍流等级:" FontSize="15"/>
                                <ComboBox Name="turbulence"  
                                          FontSize="15"
                                          Margin="10"
                                          SelectionChanged="turbulence_SelectionChanged">
                                    <ComboBoxItem>1</ComboBoxItem>
                                    <ComboBoxItem>2</ComboBoxItem>
                                    <ComboBoxItem>3</ComboBoxItem>
                                    <ComboBoxItem>4</ComboBoxItem>
                                    <ComboBoxItem>5</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                           
                            <!--<Image Source="..\Images\Environment\Turbulence.png"
                                   Stretch="None"
                                   Grid.Row="2" Grid.Column="1"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"
                                   Margin="5 0 0 5" Height="145"/>
                            <Image Source="..\Images\Environment\pointer.png"
                                   Stretch="None"
                                   Grid.Row="2" Grid.Column="1"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top"
                                   Margin="66 88 0 0"
                                   MouseLeftButtonDown="turbulence_MouseLeftButtonDown">
                                <Image.RenderTransform>
                                    <RotateTransform x:Name="turbulence"
                                                     Angle="-60"
                                                     CenterX="32.5" 
                                                     CenterY="32.5"/>
                                </Image.RenderTransform>
                            </Image>-->
                            <Button Content="清除所有风"
                                    x:Name="clearWind"
                                    Grid.Column="2" Grid.Row="2" 
                                    cuc:ButtonHelper.TextMargin="0,-10" 
                                    Height="50"
                                    Margin="20,0"
                                    Click="clearWind_Click"/>
                            <Label Content="中空风:风向-风速"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Grid.Row="3"
                                   Margin="0 5"/>
                            <Image Grid.Row="4"
                                   Stretch="None"
                                   Margin="0 18"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Top">
                                <Image.Source>
                                    <BitmapImage UriSource="..\Images\Environment\Ground_Velocity_Direction.png"/>
                                </Image.Source>
                            </Image>
                            <TextBlock FontSize="15.5"
                                       Foreground="#FFF2F2F2"
                                       Margin="48"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Grid.Row="4">
                                <Run Text="{Binding ElementName=tb_wind_direction_hollow,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                                <Run Text="°"/>
                            </TextBlock>
                            <TextBox x:Name="tb_wind_direction_hollow"
                                     Text="{Binding HollowDirection,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~360"
                                     Width="85" Height="22"
                                     Grid.Row="4"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Bottom"
                                     Margin="10 25 0 50">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="TextChanged">
                                        <i:InvokeCommandAction Command="{Binding HollowDirectionCommand}"
                                                               CommandParameter="{Binding Text,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type TextBox}}}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBox>
                            <TextBlock Text="{Binding ElementName=tb_wind_velocity_hollow,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                       FontSize="15.5"
                                       Foreground="#FFF2F2F2"
                                       Margin="0 54 35 0"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Top"
                                       Grid.Row="4"/>
                            <TextBox x:Name="tb_wind_velocity_hollow"
                                     Text="{Binding HollowVelocity,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~50"
                                     Width="80" Height="22"
                                     Grid.Row="4"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Bottom"
                                     Margin="0 0 5 50">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="TextChanged">
                                        <i:InvokeCommandAction Command="{Binding HollowVelocityCommand}"
                                                               CommandParameter="{Binding Text,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type TextBox}}}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBox>
                            <Label Content="中空风风高度"
                                   Grid.Row="3" Grid.Column="1"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Margin="0 5"/>
                            <Slider x:Name="sd_wind_height"
                                    Minimum="1000" Maximum="10000"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"
                                    Orientation="Vertical"
                                    Height="88" Width="36"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    Margin="0 20 80 0"
                                    Thumb.DragCompleted="sd_wind_height_DragCompleted"
                                    Grid.Row="4" Grid.Column="1"/>
                            <TextBlock Text="10000ft" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="1"
                                       Margin="100 22 0 0"/>
                            <TextBlock Text="5000ft" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="1"
                                       Margin="100 60 0 0"/>
                            <TextBlock Text="1000ft" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="1"
                                       Margin="100 90 0 0"/>
                            <TextBox Text="{Binding ElementName=sd_wind_height,Path=Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~50"
                                     IsReadOnly="True"
                                     Width="88" Height="22" 
                                     Grid.Row="4" Grid.Column="1"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Bottom"
                                     Margin="0 0 34 50"/>
                            <Label Content="阵风速度"
                                   Grid.Row="3" Grid.Column="2"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Margin="0 5"/>
                            <Image Source="..\Images\Environment\Gust_Speed.png"
                                   Stretch="None"
                                   Grid.Row="4" Grid.Column="2"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top"
                                   Margin="50 20"/>
                            <TextBlock Text="{Binding ElementName=tb_Gust_Speed,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                       FontSize="15"
                                       Foreground="#FFF2F2F2"
                                       Margin="70 52 0 0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Grid.Row="4" Grid.Column="2"/>
                            <TextBox x:Name="tb_Gust_Speed"
                                     Text="{Binding GustSpeed}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~50"
                                     Width="88" Height="22"
                                     Grid.Row="4" Grid.Column="2"
                                     HorizontalAlignment="Left"
                                     VerticalAlignment="Bottom"
                                     Margin="42 0 0 50">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="TextChanged">
                                        <i:InvokeCommandAction Command="{Binding GustSpeedCommand}"
                                                               CommandParameter="{Binding Text,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type TextBox}}}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </TextBox>
                            <!--风切变-->
                            <!--<Label Content="风切变"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Grid.Row="4" Grid.Column="1"
                                   Margin="25 10 0 0"/>
                            <Image Source="..\Images\Environment\WindShear.png"
                                   Stretch="None"
                                   Grid.Row="5" Grid.Column="1"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top"
                                   Margin="30 8"/>
                            <Image Source="..\Images\Environment\pointer.png"
                                   Stretch="None"
                                   Grid.Row="5" Grid.Column="1"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top"
                                   Margin="75 75 0 0"
                                   MouseLeftButtonDown="Windshear_MouseLeftButtonDown">
                                <Image.RenderTransform>
                                    <RotateTransform x:Name="windshear" Angle="-60"  CenterX="32.5" CenterY="32.5"/>
                                </Image.RenderTransform>
                            </Image>-->
                        </Grid>
                        <Border BorderThickness="1 0 0 0"
                                BorderBrush="Gray"
                                Margin="0 10"/>
                        <!--设定云-->
                        <Grid Margin="30 5 50 0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="40"/>
                                <RowDefinition Height="40"/>
                                <RowDefinition/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Label Content="设定云"
                                   FontSize="18"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Grid.ColumnSpan="3"/>
                            <Label Content="云类型"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Margin="13 0 0 0"
                                   Grid.Row="1"/>
                            <Label Content="云高度"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Margin="34 0 0 0"
                                   Grid.Row="1"
                                   Grid.Column="1"/>
                            <Label Content="云密度"
                                   FontSize="15"
                                   Style="{StaticResource TitleLabelStyle}"
                                   Margin="34 0 0 0"
                                   Grid.Row="1"
                                   Grid.Column="2"/>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="20 0 0 0">
                                <StackPanel>
                                    <Button Content="无" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="0"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType1,Converter={StaticResource Value2BoolCov},ConverterParameter=0}" />
                                    <Button Content="卷云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="0"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType1,Converter={StaticResource Value2BoolCov},ConverterParameter=11}"
                                            IsEnabled="False"/>
                                    <Button Content="卷积云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="0"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType1,Converter={StaticResource Value2BoolCov},ConverterParameter=11}"
                                            IsEnabled="False"/>
                                    <Button Content="卷层云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="0"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType1,Converter={StaticResource Value2BoolCov},ConverterParameter=11}"
                                            IsEnabled="False"/>
                                </StackPanel>
                            </StackPanel>
                            <StackPanel Grid.Row="2" Grid.Column="1" Margin="30 0 0 0">
                                <Grid>
                                    <Slider x:Name="sl_cloud_Height_1"
                                            Value="{Binding CloudHeight1}"
                                            Style="{StaticResource CloudSliderStyle}"
                                            Orientation="Vertical"
                                            Minimum="6000" Maximum="9000"
                                            TickFrequency="1000" TickPlacement="BottomRight"
                                            Height="73" Width="36"
                                            HorizontalAlignment="Center"/>

                                    <TextBlock Text="9000" 
                                               FontSize="12"
                                               Margin="70 -3 0 0"/>
                                    <TextBlock Text="8000" 
                                               FontSize="12"
                                               Margin="70 18 0 0"/>
                                    <TextBlock Text="7000" 
                                               FontSize="12"
                                               Margin="70 40 0 0"/>
                                    <TextBlock Text="6000" 
                                               FontSize="12"
                                               Margin="70 58 0 0"/>
                                </Grid>
                                <TextBox x:Name="tb_cloud_Height_1"
                                         Text="{Binding CloudHeight1,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay, StringFormat={}{0:f0}}"
                                         Style="{StaticResource InputTextBoxStyle}"
                                         Width="110" Height="20"
                                         cuc:TextBoxHelper.Watermarks="请输入6000~9000"/>
                            </StackPanel>
                            <Slider Orientation="Vertical"
                                    Value="{Binding CloudDensity1}"
                                    Style="{StaticResource CloudSliderStyle}"
                                    Minimum="0" Maximum="3" IsSnapToTickEnabled="True" TickPlacement="BottomRight"
                                    TickFrequency="1"
                                    Height="73" Width="36"
                                    Grid.Row="2" Grid.Column="2"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Margin="0 0 0 0"/>
                            <TextBlock Text="遮蔽" 
                                       FontSize="12"
                                       Grid.Row="2" Grid.Column="2"
                                       Margin="90 0 0 0"/>
                            <TextBlock Text="间续" 
                                       FontSize="12"
                                       Grid.Row="2" Grid.Column="2"
                                       Margin="90 19 0 0"/>
                            <TextBlock Text="稀疏" 
                                       FontSize="12"
                                       Grid.Row="2" Grid.Column="2"
                                       Margin="90 38 0 0"/>
                            <TextBlock Text="几乎没有" 
                                       FontSize="12"
                                       Grid.Row="2" Grid.Column="2"
                                       Margin="90 56 0 0"/>
                            <Button Content="设定"
                                    Width="60" Height="28"
                                    Grid.Row="2" Grid.Column="2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom"
                                    Command="{Binding ChangeCloudCommand}"
                                    CommandParameter="cloudtype1"/>
                            <Border BorderBrush="Gray"
                                    BorderThickness="0 1 0 0"
                                    Grid.Row="3" Grid.ColumnSpan="3"
                                    Margin="8"/>
                            <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="20 0 0 0">
                                <StackPanel>
                                    <Button Content="高积云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="1"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType2,Converter={StaticResource Value2BoolCov},ConverterParameter=1}" />
                                    <Button Content="雨层云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="8"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType2,Converter={StaticResource Value2BoolCov},ConverterParameter=8}" />
                                    <Button Content="高层云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}" CommandParameter="0"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType2,Converter={StaticResource Value2BoolCov},ConverterParameter=0}"
                                            IsEnabled="False"/>
                                </StackPanel>
                            </StackPanel>
                            <StackPanel Grid.Row="4" Grid.Column="1" Margin="30 0 0 0">
                                <Grid>
                                    <Slider x:Name="sl_cloud_Height_2"
                                            Orientation="Vertical"
                                            Value="{Binding CloudHeight2}"
                                            Style="{StaticResource CloudSliderStyle}"
                                            TickFrequency="2000" TickPlacement="BottomRight"
                                            Minimum="2000" Maximum="6000"
                                            Height="73" Width="36"/>

                                    <TextBlock Text="6000" 
                                               FontSize="12"
                                               Margin="70 0 0 0"/>
                                    <TextBlock Text="4000" 
                                               FontSize="12"
                                               Margin="70 28 0 0"/>
                                    <TextBlock Text="2000" 
                                               FontSize="12"
                                               Margin="70 58 0 0"/>
                                </Grid>

                                <TextBox Style="{StaticResource InputTextBoxStyle}"
                                         Text="{Binding CloudHeight2,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay, StringFormat={}{0:f0}}"
                                         Width="110" Height="20"
                                         cuc:TextBoxHelper.Watermarks="请输入2000~6000"/>
                            </StackPanel>
                            <Slider Orientation="Vertical"
                                    Value="{Binding CloudDensity2}"
                                    Style="{StaticResource CloudSliderStyle}"
                                    Minimum="0" Maximum="3" IsSnapToTickEnabled="True" TickPlacement="BottomRight"
                                    TickFrequency="1"
                                    Height="73" Width="36"
                                    Grid.Row="4" Grid.Column="2"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Margin="0 0 0 0"/>
                            <TextBlock Text="遮蔽" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="2"
                                       Margin="90 0 0 0"/>
                            <TextBlock Text="间续" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="2"
                                       Margin="90 19 0 0"/>
                            <TextBlock Text="稀疏" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="2"
                                       Margin="90 38 0 0"/>
                            <TextBlock Text="几乎没有" 
                                       FontSize="12"
                                       Grid.Row="4" Grid.Column="2"
                                       Margin="90 56 0 0"/>
                            <Button Content="设定"
                                    Width="60" Height="28"
                                    Grid.Row="4" Grid.Column="2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom"
                                    Command="{Binding ChangeCloudCommand}"
                                    CommandParameter="cloudtype2"/>
                            <Border BorderBrush="Gray"
                                    BorderThickness="0 1 0 0"
                                    Grid.Row="5" Grid.ColumnSpan="3"
                                    Margin="8"/>
                            <StackPanel Grid.Row="6" Orientation="Horizontal" Margin="20 0 0 0">
                                <StackPanel>
                                    <Button Content="积云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}"  CommandParameter="7"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType3,Converter={StaticResource Value2BoolCov},ConverterParameter=7}" />
                                    <Button Content="层云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}"  CommandParameter="10"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType3,Converter={StaticResource Value2BoolCov},ConverterParameter=10}" />
                                    <Button Content="层积云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}"  CommandParameter="9"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType3,Converter={StaticResource Value2BoolCov},ConverterParameter=9}" />
                                    <Button Content="积雨云" Style="{StaticResource CloudButtonStyle}" Command="{Binding SetCloudTypeCommand}"  CommandParameter="6"
                                            cuc:ButtonHelper.IsSelected="{Binding CloudType3,Converter={StaticResource Value2BoolCov},ConverterParameter=6}" />
                                </StackPanel>
                            </StackPanel>
                            <StackPanel Grid.Row="6" Grid.Column="1" Margin="30 0 0 0">
                                <Grid>
                                    <Slider x:Name="sl_cloud_Height_3"
                                            Orientation="Vertical"
                                            Value="{Binding CloudHeight3}"
                                            Style="{StaticResource CloudSliderStyle}"
                                            TickFrequency="1000" TickPlacement="BottomRight"
                                            Minimum="0" Maximum="2000"
                                            Height="73" Width="36"/>
                                    <TextBlock Text="2000" 
                                               FontSize="12"
                                               Margin="70 0 0 0"/>
                                    <TextBlock Text="1000" 
                                               FontSize="12"
                                               Margin="70 28 0 0"/>
                                    <TextBlock Text="0" 
                                               FontSize="12"
                                               Margin="70 58 0 0"/>
                                </Grid>

                                <TextBox Style="{StaticResource InputTextBoxStyle}"
                                         Text="{Binding CloudHeight3,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay, StringFormat={}{0:f0}}"
                                         Width="110" Height="20"
                                         cuc:TextBoxHelper.Watermarks="请输入0~2000"/>
                            </StackPanel>
                            <Slider Orientation="Vertical"
                                    Value="{Binding CloudDensity3}"
                                    Style="{StaticResource CloudSliderStyle}"
                                    Minimum="0" Maximum="3" IsSnapToTickEnabled="True" TickPlacement="BottomRight"
                                    TickFrequency="1"
                                    Height="73" Width="36"
                                    Grid.Row="6" Grid.Column="2"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Margin="0 0 0 0"/>
                            <TextBlock Text="遮蔽" 
                                       FontSize="12"
                                       Grid.Row="6" Grid.Column="2"
                                       Margin="90 0 0 0"/>
                            <TextBlock Text="间续" 
                                       FontSize="12"
                                       Grid.Row="6" Grid.Column="2"
                                       Margin="90 19 0 0"/>
                            <TextBlock Text="稀疏" 
                                       FontSize="12"
                                       Grid.Row="6" Grid.Column="2"
                                       Margin="90 38 0 0"/>
                            <TextBlock Text="几乎没有" 
                                       FontSize="12"
                                       Grid.Row="6" Grid.Column="2"
                                       Margin="90 56 0 0"/>
                            <Button Content="设定"
                                    Width="60" Height="28"
                                    Grid.Row="6" Grid.Column="2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom"
                                    Margin="0 0 0 10"
                                    Command="{Binding ChangeCloudCommand}"
                                    CommandParameter="cloudtype3"/>
                        </Grid>
                    </StackPanel>

                </Grid>
            </cuc:CustomGroupBox>
            <cuc:CustomGroupBox Header="总览天气编辑"
                                Style="{StaticResource GroupBoxStyle}"
                      Background="{StaticResource PrimaryHueDarkBrush}"
                      Grid.Row="1"
                      Margin="3,0"
                      Width="1317" Height="295"
                      Padding="3">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Margin="10 0 0 0">
                        <Button Content="晴天" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_sunny}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Sunny}"/>
                        <Button Content="沙尘" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_sandstorm}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Dust}"
                                Visibility="Collapsed"/>
                        <Button Content="雾" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_haze}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Foggy}"/>
                    </StackPanel>
                    <StackPanel Grid.Column="1">
                        <Button Content="雨" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_rain}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Rainy}"/>
                        <Button Content="雷" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_thunder}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Thunderstorm}"/>
                        <Button Content="雪" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_snow}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Snowy}"/>
                        <Button Content="冰雹" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_hail}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Hail}"
                                Visibility="Collapsed"/>
                    </StackPanel>
                    <Border BorderThickness="1 0 0 0"
                            BorderBrush="Gray"
                            VerticalAlignment="Stretch"
                            Margin="5"
                            Grid.Column="2"/>
                    <StackPanel Grid.Column="3">
                        <Button Content="风" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_wind}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Wind}"/>
                        <Button Content="云" Style="{StaticResource WeatherButtonStyle2}"
                                cuc:ButtonHelper.MainIcon="{StaticResource Icon_cloud}"
                                cuc:ButtonHelper.IsSelected="{Binding Weather,Converter={StaticResource Value2BoolCov},ConverterParameter=Cloudy}"/>
                    </StackPanel>
                    <Border BorderThickness="1 0 0 0"
                            BorderBrush="Gray"
                            VerticalAlignment="Stretch"
                            Margin="5"
                            Grid.Column="4"/>
                    <StackPanel Orientation="Horizontal"
                                Grid.Column="5">
                        <Button Content="清除风" Style="{StaticResource IconButtonStyle}"
                                cuc:ButtonHelper.MainIcon_Press="../Images/Environment/Toggle_1_Off.png"
                                cuc:ButtonHelper.TextMargin="0 10 0 0" Margin="50 30 0 0"/>
                        <Button Content="清除云" Style="{StaticResource IconButtonStyle}"
                                cuc:ButtonHelper.MainIcon_Press="../Images/Environment/Toggle_1_Off.png"
                                cuc:ButtonHelper.TextMargin="0 10 0 0" Margin="40 30 0 0"
                                Command="{Binding CloudyClearCommand}"/>
                        <Button Content="恢复默认值" Style="{StaticResource IconButtonStyle}"
                                cuc:ButtonHelper.MainIcon_Press="../Images/Environment/Toggle_2_On.png"
                                cuc:ButtonHelper.TextMargin="0 10 0 0"
                                Margin="40 30 0 0"/>
                    </StackPanel>
                    <Button Content="完成"
                            Width="140" Height="33"
                            Grid.Column="5"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Margin="0 0 50 20"
                            FontSize="20"
                            VerticalContentAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Padding="0"
                            Foreground="{StaticResource Color_Normal}"
                            BorderBrush="{StaticResource Color_Normal}"
                            BorderThickness="1"
                            Background="Transparent"/>
                </Grid>
            </cuc:CustomGroupBox>
        </Grid>
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <cuc:CustomGroupBox Header="环境调节"
                                Style="{StaticResource GroupBoxStyle}"
                                FontSize="24"
                                Foreground="{StaticResource Color_Normal}"
                                Background="{StaticResource PrimaryHueDarkBrush}"
                                Width="404" Height="392"
                                Margin="3"
                                Padding="3">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Label Content="烟雾"
                           Style="{StaticResource TitleLabelStyle}"
                           Margin="24 12 0 0"/>
                    <TextBlock Text="不存在"
                               Foreground="{StaticResource Color_Normal}"
                               FontSize="30"
                               HorizontalAlignment="Center"
                               Grid.Row="1"/>
                    <Border BorderThickness="1 0 0 0"
                            BorderBrush="Gray"
                            Grid.RowSpan="2"
                            Grid.Column="1"
                            Margin="5 10"/>
                    <Label Content="天气预设"
                           Style="{StaticResource TitleLabelStyle}"
                           Margin="12 12 0 0"
                           Grid.Column="2"/>
                    <TextBlock Text="CAVOK"
                               Foreground="{StaticResource Color_Normal}"
                               FontSize="30"
                               HorizontalAlignment="Center"
                               Grid.Row="1"
                               Grid.Column="2"/>

                    <Border BorderThickness="0 1 0 0"
                            BorderBrush="Gray"
                            Grid.ColumnSpan="3"
                            Grid.Row="2"
                            Margin="10 5"/>

                    <Label Content="能见度"
                           Style="{StaticResource TitleLabelStyle}"
                           Grid.Row="3"
                           Margin="24 5 0 0"/>
                    <StackPanel Orientation="Horizontal"
                                Grid.Row="4"
                                HorizontalAlignment="Center">
                        <TextBlock x:Name="tb_IncreasedVisibility"
                                   Text="50"
                                   FontSize="45" 
                                   Foreground="{StaticResource Color_Normal}"/>
                        <TextBlock Text="km"
                                   FontSize="20"
                                   VerticalAlignment="Top"
                                   Foreground="{StaticResource Color_Normal}"
                                   Margin="20 0 0 0"/>
                    </StackPanel>
                    <Border BorderThickness="1 0 0 0"
                            BorderBrush="Gray"
                            Grid.RowSpan="2"
                            Grid.Row="3"
                            Grid.Column="1"
                            Margin="5 10"/>
                    <StackPanel Grid.Row="3"
                                Grid.Column="2"
                                Grid.RowSpan="2"
                                VerticalAlignment="Center">
                        <Slider Orientation="Horizontal" x:Name="slider"
                                Value="{Binding ElementName=tb_IncreasedVisibility,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                Minimum="0" Maximum="50" TickFrequency="1" IsSnapToTickEnabled="True"
                                Thumb.DragCompleted="Slider_DragCompleted"
                                Width="154"/>
                        <TextBox Text="{Binding ElementName=tb_IncreasedVisibility,Path=Text,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource InputTextBoxStyle}"
                                 cuc:TextBoxHelper.Watermarks="请输入0~50"
                                 Width="154" Height="21"
                                 KeyDown="tb_IncreasedVisibility_KeyDown"
                                 HorizontalAlignment="Center"
                                 Margin="0 15 0 0"/>
                    </StackPanel>

                    <Border BorderThickness="0 1 0 0"
                            BorderBrush="Gray"
                            Grid.ColumnSpan="3"
                            Grid.Row="5"
                            Margin="10 5"/>

                    <Label Content="温度"
                           Style="{StaticResource TitleLabelStyle}"
                           Grid.Row="6"
                           Margin="24 5 0 0"/>
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                Grid.Row="7">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Center">
                                <TextBlock x:Name="tb_temp" 
                                           Text="{Binding Temperature,UpdateSourceTrigger=PropertyChanged}"
                                           FontSize="45"
                                           Foreground="{StaticResource Color_Normal}"/>
                                <TextBlock Text="℃"
                                           FontSize="15"
                                           VerticalAlignment="Top"
                                           Foreground="{StaticResource Color_Normal}"
                                           Margin="5 0 0 0"/>
                            </StackPanel>
                            <TextBlock Text="室外温度"
                                       Foreground="#CCCCCC"
                                       FontSize="10"
                                       HorizontalAlignment="Center"/>
                            <TextBox Text="{Binding Temperature,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~50"
                                     Width="96" Height="21"
                                     Margin="0 10"/>
                            <Button Content="设定"
                                    Width="60" Height="22"
                                    FontSize="14" Padding="0"
                                    Grid.Row="4" Grid.Column="2"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    Command="{Binding SetTemperatureCommand}"/>
                        </StackPanel>
                        <Slider Value="{Binding Temperature,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                Minimum="0" Maximum="50" TickFrequency="1" IsSnapToTickEnabled="True"
                                Orientation="Vertical"
                                Height="129"
                                Margin="15 0"/>
                    </StackPanel>
                    <Border BorderThickness="1 0 0 0"
                            BorderBrush="Gray"
                            Grid.Row="6"
                            Grid.RowSpan="2"
                            Grid.Column="1"
                            Margin="5 10"/>

                    <Label Content="湿度"
                           Style="{StaticResource TitleLabelStyle}"
                           Grid.Row="6"
                           Grid.Column="2"
                           Margin="12 5 0 0"/>
                    <StackPanel Orientation="Horizontal"
                                Grid.Row="7"
                                Grid.Column="3"
                                HorizontalAlignment="Center">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Center">
                                <TextBlock x:Name="tb_humidity"
                                           Text="{Binding Humidity,UpdateSourceTrigger=PropertyChanged}"
                                           FontSize="45"
                                           Foreground="{StaticResource Color_Normal}"/>
                                <TextBlock Text="%"
                                           FontSize="15"
                                           VerticalAlignment="Bottom"
                                           Foreground="{StaticResource Color_Normal}"
                                           Margin="5 0 0 0"/>
                            </StackPanel>
                            <TextBlock Text="室外湿度"
                                       Foreground="#CCCCCC"
                                       FontSize="10"
                                       HorizontalAlignment="Center"/>
                            <TextBox Text="{Binding Humidity,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource InputTextBoxStyle}"
                                     cuc:TextBoxHelper.Watermarks="请输入0~100"
                                     Width="96" Height="21"
                                     Margin="0 10"/>
                            <Button Content="设定"
                                    Width="60" Height="22"
                                    FontSize="14" Padding="0"
                                    Grid.Row="4" Grid.Column="2"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    Command="{Binding SetHumidityCommand}"/>
                        </StackPanel>
                        <Slider Value="{Binding Humidity,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                Minimum="0" Maximum="100" TickFrequency="1" IsSnapToTickEnabled="True"
                                Orientation="Vertical"
                                Height="129"
                                Margin="15 0"/>
                    </StackPanel>
                </Grid>
            </cuc:CustomGroupBox>
            <cuc:CustomGroupBox Header="时间与季节"
                                Style="{StaticResource GroupBoxStyle}"
                                Background="{StaticResource PrimaryHueDarkBrush}"
                                Width="404" Height="525"
                                Margin="3,0"
                                Grid.Row="1">
                <StackPanel>
                    <TextBlock Text="日期"
                               Foreground="{StaticResource Color_Normal}"
                               FontSize="15"
                               Margin="18 8"/>
                    <DatePicker FontSize="25" SelectedDate="{Binding Date}"
                                Style="{StaticResource DatePickerStyle}"
                                Foreground="{StaticResource PrimaryHueDarkForegroundBrush}"
                                HorizontalContentAlignment="Center"
                                Width="320"/>
                    <TextBlock Text="时间"
                               Foreground="{StaticResource Color_Normal}"
                               FontSize="15"
                               Margin="18 8"/>
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center">
                        <Border Width="77"
                                BorderBrush="{StaticResource Color_Normal}"
                                BorderThickness="1 1 0 1">
                            <TextBox Text="{Binding Hour,StringFormat={}{0:00}}"
                                     Padding="0"
                                     FontSize="30"
                                     Foreground="{StaticResource Color_Normal}"
                                     HorizontalContentAlignment="Right"/>
                        </Border>
                        <TextBlock Text=":"
                                   FontSize="30"
                                   Foreground="{StaticResource Color_Normal}"
                                   Margin="30 0 0 0"/>
                        <Border Width="97"
                                BorderBrush="{StaticResource Color_Normal}"
                                BorderThickness="0 1">
                            <TextBox Text="{Binding Minute,StringFormat={}{0:00}}"
                                     Padding="0"
                                     FontSize="30"
                                     Foreground="{StaticResource Color_Normal}"
                                     HorizontalContentAlignment="Center"/>
                        </Border>
                        <TextBlock Text=":"
                                   FontSize="30"
                                   Foreground="{StaticResource Color_Normal}"
                                   Margin="0 0 30 0"/>
                        <Border Width="77"
                                BorderBrush="{StaticResource Color_Normal}"
                                BorderThickness="0 1 1 1">
                            <TextBox Text="{Binding Second,StringFormat={}{0:00}}"
                                     Padding="0"
                                     FontSize="30"
                                     Foreground="{StaticResource Color_Normal}"
                                     HorizontalContentAlignment="Left"/>
                        </Border>
                    </StackPanel>
                    <ComboBox Width="314" Height="23.5"
                              BorderBrush="{StaticResource Color_Normal}"
                              BorderThickness="1"
                              FontSize="15"
                              Foreground="{StaticResource Color_Normal}"
                              Padding="10 0"
                              Margin="0 15 0 5">
                        <ComboBoxItem Content="开启终为白天/24小时持续时间" IsSelected="True"/>
                    </ComboBox>
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                Margin="0 5">
                        <RadioButton Content="系统时间"
                                     GroupName="time"
                                     FontSize="15"
                                     IsChecked="True"
                                     Foreground="{StaticResource Color_Normal}"/>
                        <RadioButton Content="UTC时间"
                                     GroupName="time"
                                     FontSize="15"
                                     Foreground="{StaticResource Color_Normal}"
                                     Margin="94 0 0 0"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <StackPanel>
                            <TextBlock Text="季节"
                                       Foreground="{StaticResource Color_Normal}"
                                       FontSize="15"
                                       Margin="18 3"/>
                            <ComboBox x:Name="cb_season"
                                      Width="155" Height="23.5"
                                      BorderBrush="{StaticResource Color_Normal}"
                                      BorderThickness="1"
                                      FontSize="15"
                                      Foreground="{StaticResource Color_Normal}"
                                      Padding="10 0"
                                      Margin="39.5 0 0 0 ">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding ChangeSeasonCommand}"
                                                               CommandParameter="{Binding ElementName=cb_season,Path=SelectedItem}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ComboBoxItem Content="夏季" Tag="Summer" IsSelected="True"/>
                                <ComboBoxItem Content="冬季" Tag="Winter"/>
                            </ComboBox>
                        </StackPanel>
                        <StackPanel>
                            <TextBlock Text="晨昏"
                                       Foreground="{StaticResource Color_Normal}"
                                       FontSize="15"
                                       Margin="18 3"/>
                            <ComboBox x:Name="cb_timeofday"
                                      Width="155" Height="23.5"
                                      BorderBrush="{StaticResource Color_Normal}"
                                      BorderThickness="1"
                                      FontSize="15"
                                      Foreground="{StaticResource Color_Normal}"
                                      Padding="10 0"
                                      Margin="24 0 0 0">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding ChangeTimeOfDayCommand}"
                                                               CommandParameter="{Binding ElementName=cb_timeofday,Path=SelectedItem}"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ComboBoxItem Content="凌晨" Tag="Dawn"/>
                                <ComboBoxItem Content="白天" Tag="Day" IsSelected="True"/>
                                <ComboBoxItem Content="黄昏" Tag="Dusk"/>
                                <ComboBoxItem Content="夜晚" Tag="Night"/>

                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                    <TextBlock Text="时间滑块"
                               Foreground="{StaticResource Color_Normal}"
                               FontSize="15"
                               HorizontalAlignment="Center"
                               Margin="10"/>
                    <Slider Minimum="0" Maximum="144" TickFrequency="1" IsSnapToTickEnabled="True"
                            Value="{Binding TimeTick}"
                            Width="316"
                            HorizontalAlignment="Center"/>
                    <Grid>
                        <TextBlock Text="0:00"
                                   FontSize="12"
                                   Margin="30 0"/>
                        <TextBlock Text="12:00"
                                   FontSize="12"
                                   HorizontalAlignment="Center"/>
                        <TextBlock Text="24:00"
                                   FontSize="12"
                                   Margin="25 0"
                                   HorizontalAlignment="Right"/>
                    </Grid>
                    <TextBlock Text="时间倍速滑块"
                               Foreground="{StaticResource Color_Normal}"
                               FontSize="15"
                               HorizontalAlignment="Center"
                               Margin="10"/>
                    <Slider Minimum="0.5" Maximum="2" TickFrequency="0.1" IsSnapToTickEnabled="True" 
                            TickPlacement="BottomRight"
                            Width="316"
                            HorizontalAlignment="Center"/>
                    <Button Content="激 活"
                            Command="{Binding SetTimeCommand}"
                            FontSize="20"
                            VerticalContentAlignment="Center"
                            HorizontalContentAlignment="Center"
                            Padding="0"
                            Foreground="{StaticResource Color_Normal}"
                            Width="193" Height="30.5"
                            BorderBrush="{StaticResource Color_Normal}"
                            BorderThickness="1"
                            Background="Transparent"
                            HorizontalAlignment="Center"
                            Margin="0 25 0 0"/>
                </StackPanel>
            </cuc:CustomGroupBox>
        </Grid>
    </Grid>
</Page>
